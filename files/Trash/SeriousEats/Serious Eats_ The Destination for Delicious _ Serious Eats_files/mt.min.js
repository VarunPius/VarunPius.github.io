function conditional_block(a,b){var c=document.getElementById(b),d=document.getElementById(b+"_else");if(a){if(c){var e=c.getAttribute("mt:display_style");!e&&d&&(e=d.getAttribute("mt:display_style")),e||(e=""),c.style.display=e,DOM.removeClassName(c,"hidden")}d&&(d.style.display="none",DOM.addClassName(d,"hidden"))}else if(c&&(c.style.display="none",DOM.addClassName(c,"hidden")),d){var e=d.getAttribute("mt:display_style");!e&&c&&(e=d.getAttribute("mt:display_style")),e||(e=""),d.style.display=e,DOM.removeClassName(d,"hidden")}}function mtScore(entry_id){var u=mtGetUser();if(!u)return alert("You must be logged in to favorite a post!"),!1;var span=DOM.getElement("scoring-id-"+entry_id);if(!span)return!1;if(DOM.hasClassName(span,"scoring-pending"))return!1;if(DOM.hasClassName(span,"scoring-scored"))return alert("You have already favorited this post!"),!1;if(!DOM.hasClassName(span,"scoring-scorable"))return!1;var xh=mtGetXmlHttp();if(!xh)return!1;if(DOM.addClassName(span,"scoring-pending"),MT.mobile_page)var url="http://www.seriouseats.com/cgi-bin/mte/mt-cp.cgi";else var url="http://www.seriouseats.com/cgi-bin/mte/mt-cp.cgi";return xh.open("POST",url,!0),xh.onreadystatechange=function(){4==xh.readyState&&(xh.status&&200!=xh.status||eval(xh.responseText))},xh.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),xh.send("__mode=vote&blog_id=30&f=scored,count&jsonp=mtScore_cb&id="+entry_id),!1}function mtUpdateScores(){for(var u=mtGetUser(),entry_ids="",scores=$(".scoring"),i=0;i<scores.length;i++){var id=scores[i].id;id=id.replace(/^scoring-id-/,""),""!=entry_ids&&(entry_ids+=","),entry_ids+=id}if(""==entry_ids)return!1;var xh=mtGetXmlHttp();if(!xh)return!1;if(MT.mobile_page)var url="http://www.seriouseats.com/cgi-bin/mte/mt-cp.cgi";else var url="http://www.seriouseats.com/cgi-bin/mte/mt-cp.cgi";return xh.open("POST",url,!0),xh.onreadystatechange=function(){4==xh.readyState&&(xh.status&&200!=xh.status||eval(xh.responseText))},xh.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),xh.send("__mode=score&blog_id=30&f=scored,count&jsonp=mtScore_cb&id="+entry_ids),!1}function mtScore_cb(a){mtGetUser();if(a.error){for(var b=DOM.getElementsByClassName("scoring-pending"),c=0;c<b.length;c++)DOM.removeClassName(b[c],"scoring-pending");return void alert(a.error)}for(var d in a){var e=DOM.getElement("scoring-id-"+d);if(e)if(DOM.removeClassName(e,"scoring-pending"),DOM.removeClassName(e,"scoring-scorable"),a[d].scored){DOM.addClassName(e,"scoring-scored");var f=e.getElementsByClassName("scoring-vote");f&&(f[0].innerHTML="Favorited ")}else DOM.addClassName(e,"scoring-scorable");var g=DOM.getElement("scoring-score-"+d);g&&(g.innerHTML=a[d].count?a[d].count:0);var h=DOM.getElement("scoring-score-label-"+d);if(h)switch(a[d].count){case 1:h.innerHTML="Favorite";break;default:h.innerHTML="Favorites"}}}function script_follow(id){var u=mtGetUser();if(u&&u.name){var xh=mtGetXmlHttp();if(!xh)return!1;xh.open("POST","http://www.seriouseats.com/cgi-bin/mte/mt-cp.cgi",!0),xh.onreadystatechange=function(){4==xh.readyState&&(xh.status&&200!=xh.status||eval(xh.responseText))},xh.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),xh.send("__mode=follow&id="+id+"&magic_token="+u.sid+"&jsonp=follow"),DOM.addClassName("following_"+id+"_else","hidden");var span=document.getElementById("following-status");span&&(span.innerHTML='<img src="http://static.seriouseats.com/1/braestar/live/img/indicator-grey.gif" height="10" width="10" alt="Following..." />')}}function script_leave(id){var u=mtGetUser();if(u&&u.name){var xh=mtGetXmlHttp();if(!xh)return!1;xh.open("POST","http://www.seriouseats.com/cgi-bin/mte/mt-cp.cgi",!0),xh.onreadystatechange=function(){4==xh.readyState&&(xh.status&&200!=xh.status||eval(xh.responseText))},xh.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),xh.send("__mode=leave&id="+id+"&magic_token="+u.sid+"&jsonp=leave"),DOM.addClassName("following_"+id,"hidden");var span=document.getElementById("following-status");span&&(span.innerHTML='<img src="http://static.seriouseats.com/1/braestar/live/img/indicator-grey.gif" height="10" width="10" alt="Leaving..." />')}}function follow(a){conditional_block(!0,"following_"+a.id);var b=document.getElementById("following-status");b&&(b.innerHTML="")}function leave(a){conditional_block(!1,"following_"+a.id);var b=document.getElementById("following-status");b&&(b.innerHTML="")}function getCommenterName(){var a=mtGetUser();return a&&a.name?a.name:""}function trimString(a){return a=this!=window?this:a,a.replace(/^\s+/g,"").replace(/\s+$/g,"")}function switchTabs(a,b){var c=document.location.hash;c&&(c=c.replace(/^#/,"")),void 0===b&&c?b=c:void 0!==b&&(b=b.href.match(/#(.*)/)[1]);for(var d,e,f=DOM.getElement(a),g=f.getElementsByTagName("*"),h=0,i=g.length;i>h;h++)if(g[h].href&&g[h].href.match(/#.*/)){e=g[h].href.match(/#(.*)/)[1];var d=DOM.getElement(e);if(void 0===d)continue;b&&(e==b?(DOM.addClassName(g[h],"active"),DOM.removeClassName(d,"hidden")):(DOM.removeClassName(g[h],"active"),DOM.addClassName(d,"hidden")))}}function defaultInputFocus(a){try{a=Event.prep(a)}catch(b){}var c=a.target;c.value==c.getAttribute("mt:default")&&(c.value="",DOM.removeClassName(c,"input-default"))}function defaultInputBlur(a){try{a=Event.prep(a)}catch(b){}var c=a.target;""==c.value&&(c.value=c.getAttribute("mt:default"),DOM.addClassName(c,"input-default"))}function setupInputDefault(){for(var a=document.getElementsByTagName("INPUT"),b=0,c=a.length;c>b;b++)if(a[b].getAttribute){var d=a[b].getAttribute("mt:default");d&&(""==a[b].value&&(DOM.addClassName(a[b],"input-default"),a[b].value=d),DOM.addEventListener(a[b],"focus",defaultInputFocus),DOM.addEventListener(a[b],"focusin",defaultInputFocus),DOM.addEventListener(a[b],"blur",defaultInputBlur))}}function mtHide(a){var b="string"==typeof a?document.getElementById(a):a;b&&(b.style.display="none")}function mtShow(a){var b="string"==typeof a?document.getElementById(a):a;b&&(b.style.display="block")}function mtAttachEvent(a,b){var c="on"+a,d=window[c];"function"!=typeof d?window[c]=b:window[c]=function(a){return d(a),b(a)}}function mtFireEvent(a,b){var c=window["on"+a];return"function"==typeof c?c(b):void 0}function mtRelativeDate(a,b){var c,d=new Date,e=a,f=Math.floor((d.getTime()-e.getTime())/1e3);if(60>f)c="moments ago";else if(86400>=f){var g=Math.floor(f/3600),h=Math.floor(f%3600/60);c=1==g?"1 hour ago":g>1?"2 hours ago".replace(/2/,g):1==h?"1 minute ago":"2 minutes ago".replace(/2/,h)}else if(604800>=f){var i=Math.floor(f/86400),g=Math.floor(f%86400/3600);c=1==i?"1 day ago":i>1?"2 days ago".replace(/2/,i):1==g?"1 hour ago":"2 hours ago".replace(/2/,g)}return c?c:b}function mtEditLink(a,b){var c=mtGetUser();if(c&&a&&b&&c.id==b){var d='<a href="mt.cgi?__mode=view&amp;_type=entry&amp;id='+a+'">Edit</a>';document.write(d)}}function mtCommentFormOnFocus(){mtShowCaptcha()}function mtShowCaptcha(){var a=mtGetUser();if(!(a&&a.is_authenticated||mtCaptchaVisible)){var b=document.getElementById("comments-open-captcha");b&&(b.innerHTML="",mtCaptchaVisible=!0)}}function mtSetUser(a){a&&(user=a,mtSaveUser(),mtFireEvent("usersignin"))}function mtEscapeJS(a){return a=a.replace(/'/g,"&apos;")}function mtUnescapeJS(a){return a=a.replace(/&apos;/g,"'")}function mtBakeUserCookie(a){var b="";return a.name&&(b+="name:'"+mtEscapeJS(a.name)+"';"),a.url&&(b+="url:'"+mtEscapeJS(a.url)+"';"),a.email&&(b+="email:'"+mtEscapeJS(a.email)+"';"),a.is_authenticated&&(b+="is_authenticated:'1';"),a.profile&&(b+="profile:'"+mtEscapeJS(a.profile)+"';"),a.userpic&&(b+="userpic:'"+mtEscapeJS(a.userpic)+"';"),a.sid&&(b+="sid:'"+mtEscapeJS(a.sid)+"';"),b+="is_trusted:'"+(a.is_trusted?"1":"0")+"';",b+="is_author:'"+(a.is_author?"1":"0")+"';",b+="is_banned:'"+(a.is_banned?"1":"0")+"';",b+="can_post:'"+(a.can_post?"1":"0")+"';",b+="can_comment:'"+(a.can_comment?"1":"0")+"';",b=b.replace(/;$/,"")}function mtUnbakeUserCookie(a){if(a){for(var b,c={};b=a.match(/^((name|url|email|is_authenticated|profile|userpic|sid|is_trusted|is_author|is_banned|can_post|can_comment):'([^']+?)';?)/);)a=a.substring(b[1].length),b[2].match(/^(is|can)_/)?c[b[2]]="1"==b[3]?!0:!1:c[b[2]]=mtUnescapeJS(b[3]);return c.is_authenticated?c.is_anonymous=!1:(c.is_anonymous=!0,c.can_post=!1,c.is_author=!1,c.is_banned=!1,c.is_trusted=!1),c}}function mtGetUser(){if(!user){var a=mtGetCookie(mtCookieName);if(!a)return;user=mtUnbakeUserCookie(a),user||(user={},user.is_anonymous=!0,user.can_post=!1,user.is_author=!1,user.is_banned=!1,user.is_trusted=!1)}return user}function mtFetchUser(a){if(a||(a="mtSetUser"),"mtSetUser"==a&&mtGetUser()){var b=document.URL;b=b.replace(/#.+$/,""),b+="#comments-open",location.href=b}else{mtFetchedUser=!0;var c=document.createElement("script"),d=(new Date).getTime();c.src="http://www.seriouseats.com/cgi-bin/mte/mt-comments.cgi?__mode=session_js&blog_id=30&jsonp="+a+"&ts="+d,document.getElementsByTagName("head")[0].appendChild(c)}}function mtRememberMeOnClick(a){return a.checked||mtClearUser(a.form),!0}function mtCommentOnSubmit(a){if(!mtRequestSubmitted){mtRequestSubmitted=!0,a.armor&&(a.armor.value="a04260621b8c3aef6de6d592dbd626d3a7a93327"),a.bakecookie&&a.bakecookie.checked&&mtSaveUser(a),a.preview_button&&(a.preview_button.disabled=!0),a.post&&(a.post.disabled=!0);var b=mtGetUser();return!is_preview&&b&&b.is_authenticated?(mtFetchedUser=!1,mtFetchUser("mtCommentSessionVerify"),!1):!0}return!1}function mtCommentSessionVerify(a){var b=mtGetUser(),c=document.comments_form;b&&a&&a.sid&&b.sid==a.sid?c.submit():(alert("Your session has expired. Please sign in again to comment."),mtClearUser(),mtFireEvent("usersignin"),mtShow("comments-form"),mtHide("comments-open-footer"))}function mtUserOnLoad(){var a=mtGetUser();if(document.getElementById("comments-form")){a&&a.is_authenticated?(mtShow("comments-form"),mtHide("comments-open-data"),mtCaptchaVisible&&mtHide("comments-open-captcha")):mtHide("comments-form"),a&&a.is_banned&&mtHide("comments-form"),is_preview?mtShowCaptcha():mtShowGreeting();var b=document.comments_form;b&&(a&&a.is_anonymous?(a.email&&(b.email.value=a.email),a.name&&(b.author.value=a.name),a.url&&(b.url.value=a.url),b.bakecookie&&(b.bakecookie.checked=a.name||a.email)):a&&a.sid&&b.sid&&(b.sid.value=a.sid),b.post&&b.post.disabled&&(b.post.disabled=!1),b.preview_button&&b.preview_button.disabled&&(b.preview_button.disabled=!1),mtRequestSubmitted=!1)}}function mtEntryOnLoad(){mtHide("trackbacks-info"),mtFireEvent("usersignin")}function mtEntryOnUnload(){if(mtRequestSubmitted){var a=document.comments_form;a&&(a.post&&a.post.disabled&&(a.post.disabled=!1),a.preview_button&&a.preview_button.disabled&&(a.preview_button.disabled=!1)),mtRequestSubmitted=!1}return!0}function mtSignIn(){var a=document.URL;a=a.replace(/#.+/,"");var b="http://www.seriouseats.com/cgi-bin/mte/mt-cp.cgi?__mode=login&blog_id=30";if(is_preview)if(document.comments_form){var c=document.comments_form.entry_id.value;b+="&entry_id="+c}else b+="&return_url=http%3A%2F%2Fwww.seriouseats.com%2F";else b+="&return_url="+encodeURIComponent(a);mtClearUser(),location.href=b}function mtSignInOnClick(a){var b;return a&&(b=document.getElementById(a),b||(b=document.getElementById("comment-form-external-auth"))),b&&("login-tab-inner"==a?b.innerHTML='<div id="login-spinner"><img src="http://static.seriouseats.com/1/braestar/live/img/indicator-grey.gif" /></div>':b.innerHTML='<div id="skybox3" class="skybox loggedIn"><div class="dropshadow2"><div class="innerbox"><h3 class="skybox3Strip">Signing in... <span class="status-indicator">&nbsp;</span></h3></div></div></div>'),mtClearUser(),mtFetchUser("mtSetUserOrLogin"),!1}function mtSetUserOrLogin(a){a&&a.is_authenticated?mtSetUser(a):mtSignIn()}function mtSignOut(a){mtClearUser();var b=document.URL;b=b.replace(/#.+/,"");var c="http://www.seriouseats.com/cgi-bin/mte/mt-cp.cgi?__mode=logout&blog_id=30";if(is_preview)if(document.comments_form){var a=document.comments_form.entry_id.value;c+="&entry_id="+a}else c+="&return_url=http%3A%2F%2Fwww.seriouseats.com%2F";else c+="&return_url="+encodeURIComponent(b);location.href=c}function mtSignOutOnClick(){return mtSignOut(),!1}function mtShowGreeting(){var a=!0,b=document.comments_form;if(b){var c=document.getElementById("comment-greeting");if(c||(c=document.getElementById("comment-form-external-auth")),c){var d,e=b.entry_id;e&&(d=e.value);var f,g=mtGetUser();if(g&&g.is_authenticated)if(g.is_banned)f='You do not have permission to comment on this blog. (<a href="javascript:void(0);" onclick="return mtSignOutOnClick();">sign out</a>)';else{var h;g.is_author?(h='<a href="http://www.seriouseats.com/cgi-bin/mte/mt-cp.cgi?__mode=edit&amp;return_to='+encodeURIComponent(document.URL)+"&amp;blog_id=30",h+='">'+g.name+"</a>"):h=g.url?'<a href="'+g.url+'">'+g.name+"</a>":g.name,f='Thanks for signing in, __NAME__. (<a href="javascript:void(0)" onclick="return mtSignOutOnClick();">sign out</a>)',f=f.replace(/__NAME__/,h)}else f=a?'<a href="javascript:void(0)" onclick="return mtSignInOnClick(\'comment-greeting\')">Sign in</a> to comment.':'<a href="javascript:void(0)" onclick="return mtSignInOnClick(\'comment-greeting\')">Sign in</a> to comment, or comment anonymously.';c.innerHTML=f}}}function mtReplyCommentOnClick(a,b){mtShow("comment-form-reply");var c=document.getElementById("comment-reply"),d=document.getElementById("comment-reply-label"),e=document.getElementById("comment-text"),f='Replying to <a href="#comment-__PARENT__" onclick="location.href=this.href; return false">comment from __AUTHOR__</a>';f=f.replace(/__PARENT__/,a),f=f.replace(/__AUTHOR__/,b),d.innerHTML=f,c.value=a,c.checked=!0;try{e.focus()}catch(g){}mtSetCommentParentID()}function mtSetCommentParentID(){var a=document.getElementById("comment-reply"),b=document.getElementById("comment-parent-id");if(a&&b){var c=0;1==a.checked&&(c=a.value),b.value=c}}function mtSaveUser(a){if(!is_preview){var b=mtGetUser();if(!a||b&&!b.is_anonymous||(b||(b={},b.is_authenticated=!1,b.can_comment=!0,b.is_author=!1,b.is_banned=!1,b.is_anonymous=!0,b.is_trusted=!1),void 0!=a.author&&(b.name=a.author.value),void 0!=a.email&&(b.email=a.email.value),void 0!=a.url&&(b.url=a.url.value)),b){var c=1e3*mtCookieTimeout;b.is_anonymous&&a&&a.bakecookie&&a.bakecookie.checked&&(c=31536e6);var d=new Date;mtFixDate(d),d.setTime(d.getTime()+c);var e=mtBakeUserCookie(b);mtSetCookie(mtCookieName,e,d,mtCookiePath,mtCookieDomain,"https:"==location.protocol)}}}function mtClearUser(){user=null,mtDeleteCookie(mtCookieName,mtCookiePath,mtCookieDomain,"https:"==location.protocol)}function mtSetCookie(a,b,c,d,e,f){e&&e.match(/^\.?localhost$/)&&(e=null);var g=a+"="+escape(b)+(c?"; expires="+c.toGMTString():"")+(d?"; path="+d:"")+(e?"; domain="+e:"")+(f?"; secure":"");document.cookie=g}function mtGetCookie(a){var b=a+"=",c=document.cookie,d=c.indexOf(b);if(-1==d)return"";var e=c.indexOf(";",d+b.length);return-1==e&&(e=c.length),unescape(c.substring(d+b.length,e))}function mtDeleteCookie(a,b,c,d){mtGetCookie(a)&&(c&&c.match(/^\.?localhost$/)&&(c=null),document.cookie=a+"="+(b?"; path="+b:"")+(c?"; domain="+c:"")+(d?"; secure":"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT")}function mtFixDate(a){var b=new Date(0).getTime();b>0&&a.setTime(a.getTime()-b)}function mtGetXmlHttp(){return window.XMLHttpRequest||(window.XMLHttpRequest=function(){for(var a=["Microsoft.XMLHTTP","MSXML2.XMLHTTP.5.0","MSXML2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP"],b=0;b<a.length;b++)try{return new ActiveXObject(a[b])}catch(c){}return void 0}),window.XMLHttpRequest?new XMLHttpRequest:void 0}function mtInit(){arguments.callee.done||(arguments.callee.done=!0,window._timer&&clearInterval(window._timer),window.onload&&window.onload!==window.mtInit&&(window.onload(),window.onload=function(){}))}this.JSON||(JSON={}),function(){function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)d=rep[c],"string"==typeof d&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z"},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();var MT=window.MT||{};if(MT.cons=function(){return{LOG:"log",WARN:"warn",DEBUG:"debug",INFO:"info",ERR:"error",JSON:"json"}}(),MT.core=function(a){var b=!1;return{connect:function(a,b,c){var d=mtGetXmlHttp();return d?(d.onreadystatechange=function(){if(4==d.readyState)if(d.status&&200!=d.status);else switch(b){case"json":c(JSON.parse(d.responseText));break;case"xml":break;case"text":}},d.open("GET",a),void d.send(null)):!1},getEl:function(a){return"element"===MT.util.checkNodeType(a)?id:document.getElementById(a)||!1},addEvent:function(a,b,c,d){!d&&document.addEventListener?a.addEventListener(b,c,!1):d&&document.addEventListener?a.addEventListener(b,function(){c.call(d,event)},!1):d?a.attachEvent("on"+b,function(){c.call(d,event)}):a.attachEvent("on"+b,function(){c.call(a,event)})},log:function(a,c){if(!b||!window.console)return!1;switch(a){case"warn":case"debug":case"info":case"error":case"log":console[a](c);break;default:return!1}}}}(),MT.util=function(){return{toggleVisibility:{show:function(){for(var a=arguments.length;a--;)"element"===MT.util.checkNodeType(arguments[a])?arguments[a].style.visibility="visible":MT.core.getEl(arguments[a]).style.visibility="visible"},hide:function(){for(var a=arguments.length;a--;)"element"===MT.util.checkNodeType(arguments[a])?arguments[a].style.visibility="hidden":MT.core.getEl(arguments[a]).style.visibility="hidden"}},toggleDisplay:{show:function(){for(var a=arguments.length;a--;)"element"===MT.util.checkNodeType(arguments[a])?arguments[a].style.display="":MT.core.getEl(arguments[a]).style.display=""},hide:function(){for(var a=arguments.length;a--;)"element"===MT.util.checkNodeType(arguments[a])?arguments[a].style.display="none":MT.core.getEl(arguments[a]).style.display="none"}},findDefiningParent:function(a){if("element"===MT.util.checkNodeType(a))for(var b=a.parentNode;b.parentNode;b=b.parentNode)if(b.hasAttribute&&b.hasAttribute("id")||b.getAttribute("id"))return b;return!1},checkNodeType:function(a){if(a&&a.nodeName)switch(a.nodeType){case 1:return"element";case 3:return/\S/.test(a.nodeValue)?"textnode":"whitespace"}}}}(),function(){function a(){MT.entryCommentCount&&(b(),e(!1),d(),l(),h(),c())}function b(){q={},r=!1,u="",v="",w=MT.commentsPerPage||50,t="",s="ascend",C=MT.entryID,B=MT.entryCommentCount,x=Math.ceil(B/w),z=1,y="<img title='Loading...' src='http://static.seriouseats.com/1/braestar/live/img/indicator-grey.gif' alt='Loading' />",D=I.getEl("comments-content"),E=I.getEl("top-comment-nav"),F=I.getEl("comment-nav"),G=I.getEl("current-comments"),H=I.getEl("top-current-comments")}function c(){B>w&&(I.addEvent(F,"click",g),I.addEvent(E,"click",g))}function d(){var a=String(window.location.hash).match(/comment-(\d{1,6})/);a&&(I.log(J.DEBUG,a),I.getEl(a[0]).hasOwnProperty("className")||k(a[1])&&(z=Math.floor(v/w)+1,I.log(J.DEBUG,"Comment Array Id: "+v),I.log(J.DEBUG,"Comments Per Page: "+w),I.log(J.DEBUG,"Page Number: "+z),I.log(J.DEBUG,"Comment Offset: "+f()),o()))}function e(){A=w*(z-1)}function f(){return A}function g(a){var b,c=a.target||a.srcElement;if(c=c.id&&I.getEl(c.id)||!1,!c)return!1;switch(b="element"===K.checkNodeType(c.parentNode)&&c.parentNode.getAttribute("id")&&c.parentNode.id,c.nodeName){case"A":switch(b){case"prev-comments":case"top-prev-comments":a.preventDefault?a.preventDefault():a.returnValue=!1,r||j();break;case"next-comments":case"top-next-comments":a.preventDefault?a.preventDefault():a.returnValue=!1,r||i()}}}function h(){I.log(J.DEBUG,I.getEl("top-prev-comments")),x>=z&&1!==z&&(K.toggleVisibility.show("prev-comments"),K.toggleVisibility.show("top-prev-comments")),z>=1&&z!==x&&(K.toggleVisibility.show("next-comments"),K.toggleVisibility.show("top-next-comments")),(1===z||"hidden"===F.style.visibility)&&(K.toggleVisibility.hide("prev-comments"),K.toggleVisibility.hide("top-prev-comments")),(z===x||"hidden"===F.style.visibility)&&(K.toggleVisibility.hide("next-comments"),K.toggleVisibility.hide("top-next-comments"))}function i(){x>z&&(z++,o())}function j(){z>1&&(z--,o())}function k(a){for(var b=MT.commentIds.length;b--;)if(MT.commentIds[b]==a)return u="comment-"+a,v=b,!0;return!1}function l(){var a=z!=x?A+w:B;m([A+1," - ",a].join(""))}function m(a){G.innerHTML=a,H.innerHTML=a}function n(a){D.innerHTML=a}function o(){var a;r=!0,m(y),e(),a=["http://www.seriouseats.com/cgi-bin/mte/mt-comments.cgi?__mode=comment_listing&direction=",s,"&entry_id=",C,"&limit=",w,"&offset=",f()].join(""),u||(u="comments-content"),q.hasOwnProperty(a)?(p(q[a]),r=!1):I.connect(a,J.JSON,function(b){q[a]=b.comments,p(b.comments),r=!1})}function p(a){n(a),l(),window.location.hash="reset",window.location.hash=u,h()}var q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I=MT.core,J=MT.cons,K=MT.util;I.addEvent(window,"load",a)}(),req=null,defined=function(a){return void 0!==a},!window.Event)try{window.Event={}}catch(e){}Event.prep=function(a){return a=a||window.event,defined(a.stop)||(a.stop=this.stop),defined(a.target)||(a.target=a.srcElement),defined(a.relatedTarget)||(a.relatedTarget="mouseover"==event.type||"mouseenter"==event.type?a.fromElement:a.toElement),a},window.DOM||(DOM={getElement:function(a){return"string"==typeof a||"number"==typeof a?document.getElementById(a):a},addEventListener:function(a,b,c,d){try{a.addEventListener?a.addEventListener(b,c,d):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c}catch(a){}},getClassNames:function(a){return a&&a.className?a.className.split(/\s+/g):[]},hasClassName:function(a,b){if(a=DOM.getElement(a),!a||!a.className)return!1;for(var c=DOM.getClassNames(a),d=0;d<c.length;d++)if(c[d]==b)return!0;return!1},addClassName:function(a,b){if(a=DOM.getElement(a),!a||!b)return!1;for(var c=DOM.getClassNames(a),d=0;d<c.length;d++)if(c[d]==b)return!0;return c.push(b),a.className=c.join(" "),!1},removeClassName:function(a,b){var c=!1;if(a=DOM.getElement(a),!a||!a.className||!b)return c;var d=a.className&&a.className.length?a.className.split(/\s+/g):[],e=[];if(b instanceof RegExp)for(var f=0;f<d.length;f++)b.test(d[f])?c=!0:e.push(d[f]);else for(var f=0;f<d.length;f++)d[f]!=b?e.push(d[f]):c=!0;return c&&(a.className=e.join(" ")),c},getElementsByTagAndClassName:function(a,b,c){c=DOM.getElement(c),c||(c=document);for(var d=c.getElementsByTagName(a),e=[],f=0;f<d.length;f++){var g=d[f];g&&DOM.hasClassName(g,b)&&(e[e.length]=g)}return e},getElementsByClassName:function(a,b){return DOM.getElementsByTagAndClassName("*",a,b)}});var mtCookieName="mt_blog_user",mtCookieDomain=".seriouseats.com",mtCookiePath="/",mtCookieTimeout=31536e4,mtCaptchaVisible=!1,is_preview,user,mtFetchedUser=!1,mtRequestSubmitted=!1;mtAttachEvent("usersignin",mtUserOnLoad),document.addEventListener&&document.addEventListener("DOMContentLoaded",mtInit,!1),/WebKit/i.test(navigator.userAgent)&&(_timer=setInterval(function(){/loaded|complete/.test(document.readyState)&&mtInit()},10)),window.onload=mtInit;var clearCookie=window.location.hash&&window.location.hash.match(/^#_log(in|out)/)?!0:!1;clearCookie?(mtClearUser(),"in"==RegExp.$1&&mtFetchUser()):is_preview&&!user&&mtFetchUser();